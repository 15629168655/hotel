<%@ page language="java" import="java.util.*" pageEncoding="utf-8"%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  	<%@ include file="/public/head.jspf"%>
  	<style type="text/css">
  		.searchbox {
		  margin:-3;
		}
  	</style>
  	<script type="text/javascript">
  		$(function(){
  			$('#dg').datagrid({ 
  			//
  			loadMsg:'请等待..........',
  			//请求url的地址   
		    url:'client_queryClient.action',
		 	//在请求远程数据的时候发送额外的参数
		 	queryParams:{cname:''},
		 	//显示斑马线
		 	striped:true,
		 	//如果为true，则只允许选择一行，全选会功能失效
		 	//singleSelect:true,
		 	//如果为true，则在同一行中显示数据。设置为true可以提高加载性能。默认true
		 	nowrap:true,
		 	toolbar: [{
					iconCls: 'icon-add',
					text:'添加用户',
					handler: function(){
						alert("-------预留------");
					}
			},'-',{
					iconCls: 'icon-edit',
					text:'更新用户',
					handler: function(){
						alert("-------预留------");
					}
			},'-',{
					iconCls: 'icon-remove',
					text:'删除用户',
					handler: function(){
						alert("-------预留------");
					}
			},'-',{
					text:"<input id='ss' name='search'/>",
			}],
		 	/* rowStyler: function(index,row){
		 		//返回的字符串交给style
				if (index%2==0){
					return 'background-color:#fedcbd;color:#000;';
				}else{
					return 'background-color:#7bbfea;color:#000;';
				}
			}, */
			//pagePosition:'both',
			pageSize:10,
			pageList:[5,10,15,20],
			//在底部显示分页工具箱
			pagination:true,
			//自动适应列,如果设置，则不会显示水平滚动条，在显示冻结列时此参数不要设置
			fitColumns:true,
		    //同列属性，但是这些列将会被冻结在左侧。
		    frozenColumns:[[
		    	//xyz任意取的  但不能为空
		    	{field:'xyz',checkbox:true},
		    	{field:'cid',title:'编号',width:100},
		    ]],
		    //配置dg得到列字段field:列字段的名称，与json的key捆绑title:列标题   
		    columns:[[  
		        {field:'cname',title:'姓名',width:100},    
		        {field:'cidcard',title:'身份证号码',width:100},
		        {field:'cphone',title:'联系电话',width:100}
		    ]]    
		});
		
		//把普通的文本框转换为搜索文本框
			$('#ss').searchbox({
				//触发查询时间
				searcher:function(value,name){
				//获取当前查询的关键字，通过dg加载相应的信息 
				//alert(value + "," + name); 
				$('#dg').datagrid('load',{
					cname: value,
				});
				}, 
				prompt:'变形金刚' 
			});  
  			
  		});
  	</script>
  </head>
  
  <body>
  	<table id="dg"></table>  
  </body>
</html>
